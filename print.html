<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Toronto Community Network</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="theme-ext/style.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="notice.html">Notice</a></li><li class="chapter-item expanded "><a href="network/supernode1.html"><strong aria-hidden="true">1.</strong> Supernode 1</a></li><li class="chapter-item expanded "><a href="operations/secrets.html"><strong aria-hidden="true">2.</strong> Managing Secrets</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Toronto Community Network</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!--
                        Page table of contents 
                        Source: https://github.com/JorelAli/mdBook-pagetoc/blob/3b9165bca3ceb54119001890d3a7e9356b171a72/README.md
                        -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>
                        
                        <h1><a class="header" href="#notice" id="notice">Notice</a></h1>
<p>This documentation is still in progress. Come help <a href="https://github.com/tomeshnet/toronto-community-network-docs">here</a>!</p>
<h1><a class="header" href="#supernode-1" id="supernode-1">Supernode 1</a></h1>
<p><img src="network/images/supernode1-view.jpg" alt="image" /></p>
<p>Supernode 1 is located on top of 200 Woolner Ave, Toronto, alongside Cisco-deployed infrastructure belonging to the City of Toronto.</p>
<h2><a class="header" href="#network" id="network">Network</a></h2>
<p>The supernode consists of 2 antennas and a router. The router is connected to the Cisco switch which is connected to the Bell 2000 modem that offers internet access for use as a gateway path.</p>
<p>The router acts as a Babel routing device. The antennas are configured in bridge mode.</p>
<p><img src="network/images/supernode1-network-layout.png" alt="image" /></p>
<h2><a class="header" href="#hardware" id="hardware">Hardware</a></h2>
<h3><a class="header" href="#antenna-1" id="antenna-1">Antenna 1</a></h3>
<p>Antenna 1 is a <a href="https://www.ui.com/airmax/liteap-ac/">Ubiquiti LAP-120</a> mounted on the west arm of the building, on the south side of the roof, colocated with Cisco on their mounts. The antenna is facing south.</p>
<p><img src="network/images/supernode1-hardware-antenna1.jpg" alt="image" /></p>
<h3><a class="header" href="#antenna-2" id="antenna-2">Antenna 2</a></h3>
<p>Antenna 2 is a Ubiquiti LAP-120 mounted on the south arm of the building, on the east side of the roof, colocated with Cisco on their mounts. The antenna is facing east.</p>
<p><img src="network/images/supernode1-hardware-antenna2.jpg" alt="image" /></p>
<h3><a class="header" href="#router-1" id="router-1">Router 1</a></h3>
<p>Router 1 is a <a href="https://www.ui.com/edgemax/edgerouter-x-sfp/">Ubiquiti EdgeRouter X-SFP</a> mounted inside the Cisco cabinet in the ballast room. It's connected to the exit node over a L2TP tunnel using UDP.</p>
<p>Router is configured with a static IP and only routes to the exit node and a secondary VPS server. The secondary VPS is used to provide an OpenVPN tunnel for secure remote management of the device.</p>
<p><img src="network/images/supernode1-hardware-cabinet2.jpg" alt="image" /></p>
<h2><a class="header" href="#physical-environment" id="physical-environment">Physical Environment</a></h2>
<p>The roof is accessible through ceiling hatches on the top floor of the building.</p>
<p><img src="network/images/supernode1-access-roof.jpg" alt="image" /></p>
<p>The router is installed in a black metal cabinet, located on the back wall of the ballast tank room on the roof. This room is accessible only from the roof. The entrance is on the east wall of the elevator hut. The doors are shorter then normal.</p>
<p>Network cables are run through a hole in the east wall.</p>
<p><img src="network/images/supernode1-access-ballast.jpg" alt="image" />
<img src="network/images/supernode1-hardware-cabinet.jpg" alt="image" /></p>
<h2><a class="header" href="#neighbourhood-testing" id="neighbourhood-testing">Neighbourhood Testing</a></h2>
<p>Testing was done at several points that had line-of-sight to the antenna. The antenna was hand-held, not tuned precisely. Results are for reference only, and don't necessarily represent what a permanent deployment could attain at that distance.</p>
<table><thead><tr><th>Point</th><th>Distance (m)</th><th>Ping</th><th>Speed RX/TX (Mbps)</th><th>Signal (dBm)</th></tr></thead><tbody>
<tr><td>a</td><td>200</td><td>4.57</td><td>86/194</td><td>-64</td></tr>
<tr><td>b</td><td>200</td><td>2.86</td><td>80/194</td><td>-60</td></tr>
<tr><td>c</td><td>237</td><td>5.82</td><td>50/17s</td><td>-58</td></tr>
<tr><td>d</td><td>270</td><td>5.27</td><td>103/14s</td><td>-50</td></tr>
<tr><td>e (1)</td><td>396</td><td>5.11</td><td>83/172</td><td>-58</td></tr>
<tr><td>f</td><td>2520</td><td>4.57</td><td>8.68/1.6</td><td>-81</td></tr>
<tr><td>f (2)</td><td>2520</td><td>4.57</td><td>64.58/40.79</td><td>-74</td></tr>
</tbody></table>
<p>(1) Used both <a href="https://www.ui.com/airmax/nanostation-ac/">Nanostation AC (Loco5AC)</a> and <a href="https://www.ui.com/airmax/litebeam-ac/">LiteBeam AC (LBE‑5AC‑23)</a>. Both performed the same.<br />
(2) Second attempt done after correcting issue with <code>sn1a2</code>.</p>
<h2><a class="header" href="#additional-notes" id="additional-notes">Additional Notes</a></h2>
<p>EdgeRouter X-SFP doesn't accelerate traffic over tunnels. Due to this, speeds are currently limited to around 400Mbps to exit node.</p>
<h1><a class="header" href="#managing-secrets" id="managing-secrets">Managing Secrets</a></h1>
<p>The purpose of this document is to provide information to contributors on how to store and view the Toronto Community Network's &quot;secrets&quot;, such as passwords, keys, credentials, and other information kept private for security reasons.</p>
<h2><a class="header" href="#introduction" id="introduction">Introduction</a></h2>
<p>The Toronto Community Network uses <a href="https://bitwarden.com/">Bitwarden</a> to share and manage secrets across the organization. Bitwarden is a free and open-source password management service that stores sensitive information (such as website credentials) in an encrypted vault.</p>
<p>Bitwarden supports the following clients:</p>
<ul>
<li>Desktop (Linux/MacOS/Windows)</li>
<li>Web Browser (Chrome/Safari/Firefox/Vivaldi/Opera/Brave/Edge/Tor Browser)</li>
<li>Mobile (Android/iPhone)</li>
<li>Command Line (via NPM)</li>
</ul>
<p>For more information about supported clients, see Bitwarden's <a href="https://bitwarden.com/download/">download options</a>.</p>
<h2><a class="header" href="#accessing-secrets" id="accessing-secrets">Accessing Secrets</a></h2>
<p>The Toronto Community Network is using the self-hosted version of Bitwarden, and can be accessed at <a href="https://pass.tomesh.net">https://pass.tomesh.net</a>.</p>
<p>For secrets to be shared, they must exist within the <a href="https://pass.tomesh.net/#/organizations/e4573938-547f-4157-a977-b28fc15bcec0/vault">Toronto Community Network organization</a>.</p>
<p>When using the Bitwarden applications, please make sure to <a href="https://bitwarden.com/help/article/change-client-environment/#:%7E:text=On%20the%20home%20screen%20of,com%20for%20the%20Server%20URL">change the Server URL</a> in the Bitwarden settings to the <code>https://pass.tomesh.net</code>.</p>
<h2><a class="header" href="#obtaining-access" id="obtaining-access">Obtaining Access</a></h2>
<p>Obtaining access to Bitwarden is a 4-step process.</p>
<ol>
<li>
<p>Send an email to operations@tomesh.net with the following information:</p>
<ul>
<li>Your Name</li>
<li>GitHub Handle</li>
<li>Detailed description of your use case or requirement.</li>
</ul>
</li>
<li>
<p>A member of our Project Operations team will invite you to Bitwarden.</p>
<ul>
<li>Bitwarden will send you an email from tomeshnet@gmail.com</li>
<li>Please make sure to whitelist the email address.</li>
</ul>
</li>
<li>
<p>Use the link in the invitation to create an account.</p>
</li>
<li>
<p>After registration, Bitwarden requires us to confirm your account. Upon confirmation, you will have access to the organization.</p>
</li>
</ol>
<p>We recommend that you setup <a href="https://bitwarden.com/help/article/setup-two-step-login/">two-factor authentication</a> on your account to increase the security of your account. </p>
<h2><a class="header" href="#access-control" id="access-control">Access Control</a></h2>
<p>When storing credentials, you must store them within the <a href="https://pass.tomesh.net/#/organizations/e4573938-547f-4157-a977-b28fc15bcec0/vault">Toronto Community Network organization</a>. Bitwarden organizes secrets in groups called <a href="https://bitwarden.com/help/article/collections/">Collections</a> and within those Collections are four <a href="https://bitwarden.com/help/article/user-types-access-control/#user-types">User Types</a>: <em>User</em>, <em>Manager</em>, <em>Admin</em>, and <em>Owner</em>.</p>
<p>In order to maintain integrity of the Toronto Community Network operations, most users will be granted only User or Manager access. The Project Operations team will determine your access based on your use case or requirements.</p>
<h2><a class="header" href="#storing-secrets" id="storing-secrets">Storing Secrets</a></h2>
<p>All secrets must be attached to a <a href="https://bitwarden.com/help/article/collections/">Collection</a> to faciliate access control. Please be sure to attach the secret to an existing <a href="https://github.com/orgs/tomeshnet/teams/toronto-community-network/teams">Toronto Community Network Work Group</a>. These collection names start with <code>_OU</code>.</p>
<p>Additional Collections may be created or utilized to classify the secret such as <em>Social</em>, <em>Service</em> <em>Accounts</em>, <em>Website</em>, and more.</p>
<p>When naming your credential, please use the following convention: <em>System/Function - Identifer</em>.</p>
<blockquote>
<p><strong>For example:</strong></p>
<ul>
<li>A public SSH key may be named <em>&quot;Public Key - Contributor A&quot;</em></li>
<li>A GitHub deployment key may be named <em>&quot;GitHub - Deploy Key (docs.tomesh.net)&quot;</em></li>
<li>A shared login social media may be named <em>&quot;Twitter - tomeshnet&quot;</em></li>
</ul>
</blockquote>
<p>When determining a password or passphrase, please use strong entropy to prevent unauthorized access. For more information, please see our <a href="operations/secrets.html#recommended-best-practices">Recommended Best Practices</a> below.</p>
<p>All public keys and private keys must be saved as <em>Secured Notes</em>.</p>
<p>Please be mindful that secrets stored in this system can be accessed by any authorized contributor in the Toronto Community Network. While your connection to the system is secured via TLS, the secrets you choose to store in the group can be seen by others. Please refrain from using the system for storing any personal information.</p>
<p>For more information about managing items, please see Bitwarden's offical documentation on <a href="https://bitwarden.com/help/article/managing-items/">Managing Items</a>.</p>
<h2><a class="header" href="#data-backup" id="data-backup">Data Backup</a></h2>
<p>The VM that hosts the Bitwarden container is backed up on a weekly basis. </p>
<p>Administrators of the <a href="https://pass.tomesh.net/#/organizations/e4573938-547f-4157-a977-b28fc15bcec0/vault">Toronto Community Network organization</a> have the ability to export the entire vault to a JSON or CSV file.</p>
<p>As the export function provides secrets in clear-text, please secure or encrypt the file immediately.</p>
<h2><a class="header" href="#recommended-best-practices" id="recommended-best-practices">Recommended Best Practices</a></h2>
<p>The Government of Canada's <a href="https://cyber.gc.ca/">Canadian Centre for Cyber Security</a> provides recommendations for organizations to protect networks, systems, and information. By using these best practices, you can protect yourself and the integrity of the Toronto Community Network.</p>
<ul>
<li><a href="https://cyber.gc.ca/en/guidance/password-managers-security-itsap30025">Password Managers-Security (ITSAP.30.025)</a></li>
<li><a href="https://www.cyber.gc.ca/en/guidance/best-practices-passphrases-and-passwords-itsap30032">Best Practices for Passphrases and Passwords (ITSAP.30.032)</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        <script type="text/javascript" src="theme-ext/sidebar.js"></script>
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
